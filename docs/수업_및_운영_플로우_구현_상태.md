# 수업 및 운영 플로우 구현 상태

> 2026-02-24 기준 점검

---

## ✅ Phase 1: 수업 관리 — **완료**

| 항목 | 상태 | 파일/비고 |
|------|------|-----------|
| Event DataSource | ✅ | `event_remote_data_source.dart` |
| watchUpcomingClasses | ✅ | 미래 수업 스트림 |
| watchClassesInRange | ✅ | 월별 조회 (캘린더용) |
| createClass / createClassesBatch | ✅ | 수업 생성, 일괄 생성 |
| updateAttendeeStatus | ✅ | 참석/지각/불참 변경 (트랜잭션) |
| finishClass | ✅ | 수업 종료 (출석 확정) |
| Event Providers | ✅ | `event_providers.dart` |
| ClassDetailPage | ✅ | 수업 상세, 참석/지각/불참 버튼 |
| scheduleByDateProvider | ✅ | 매치 + 수업 통합 |
| 수업 마커 (파란색) | ✅ | `schedule_page.dart` |
| 라우터 | ✅ | `/schedule/class/:eventId` |

---

## ✅ Phase 2: 투표 시스템 — **완료**

| 항목 | 상태 | 파일/비고 |
|------|------|-----------|
| Poll DataSource | ✅ | `poll_remote_data_source.dart` |
| watchActivePolls / watchPoll | ✅ | 진행 중 투표 목록 |
| createPoll / vote / unvote / closePoll | ✅ | 투표 CRUD |
| PollListPage | ✅ | 투표 목록 |
| PollDetailPage | ✅ | 투표 상세/투표하기 |
| PollCreatePage | ✅ | 투표 생성 |
| 홈 탭 활성 투표 배너 | ✅ | `_buildActivePollBanner` |
| 라우터 | ✅ | `/schedule/polls`, `/schedule/polls/create`, `/schedule/polls/:pollId` |

**미완료:** 투표 결과 → Event 자동 생성 연동 (PollCreationService에 로직 일부 존재)

---

## ⚠️ Phase 3: 등록 + 회비 관리 — **부분 완료**

| 항목 | 상태 | 비고 |
|------|------|------|
| Registration DataSource | ✅ | `registration_remote_data_source.dart` |
| Fee DataSource | ✅ | `fee_remote_data_source.dart` |
| FeeManagementPage | ✅ | 회비 설정, 멤버별 납부 체크 |
| 등록 투표 → registrations 저장 | ⚠️ | 수동 연동 필요 (투표 종료 시 별도 처리) |
| MY 페이지 내 회비 납부 현황 | ⚠️ | 확인 필요 |
| 은행 계좌/입금 기한 설정 | ⚠️ | Fee 엔티티에 필드 존재 여부 확인 필요 |

---

## ✅ Phase 4: 구장 예약 관리 — **완료**

| 항목 | 상태 | 파일/비고 |
|------|------|-----------|
| ReservationNotice | ✅ | 엔티티/모델/DataSource |
| 날짜 자동 계산 | ✅ | `reservation_date_calculator.dart` |
| 예약 공지 생성/상세/목록 | ✅ | create, detail, list 페이지 |
| 성공/실패 보고 | ✅ | reportSuccess, reportFailed |
| Ground 관리 | ✅ | `ground_management_page.dart` |
| 홈/일정 탭 배너 | ✅ | 예약 공지 배너 |
| 라우터 | ✅ | `/schedule/reservation-notices/*` |

---

## ⚠️ Phase 5: 공지 시스템 — **부분 완료**

| 항목 | 상태 | 비고 |
|------|------|------|
| Post DataSource | ✅ | `post_remote_data_source.dart` |
| watchRecentPosts | ✅ | 최근 공지 |
| 홈 탭 최근 공지 표시 | ✅ | `_buildRecentNotice` |
| 공지 작성/수정/삭제 UI | ⚠️ | 별도 페이지 존재 여부 확인 필요 |
| 투표 연결 (pollId) | ⚠️ | Post 모델에 pollId 필드 확인 필요 |

---

## 요약

| Phase | 완료도 | 미완료/보완 필요 |
|-------|--------|------------------|
| 1. 수업 관리 | 100% | - |
| 2. 투표 시스템 | 95% | 투표 결과 → Event 자동 생성 |
| 3. 등록+회비 | 80% | MY 회비 현황, 등록 플로우 연동 |
| 4. 구장 예약 | 100% | - |
| 5. 공지 시스템 | 70% | 공지 작성/관리 UI |

---

## 결론

**대부분 구현되어 있습니다.**  
핵심 기능(수업, 투표, 구장 예약, 매치)은 동작 가능한 상태입니다.

남은 작업:
1. **투표 결과 → Event 자동 생성**: 등록/출석 투표 종료 시 events 일괄 생성
2. **MY 페이지 회비 현황**: 본인 납부 상태 표시
3. **공지 작성/관리 UI**: Post 생성/수정 전용 페이지 (필요 시)
